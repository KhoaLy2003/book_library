<div class="field">
  <label for="memberSearch">Search Member</label>
  <form
    id="memberSearch"
    [formGroup]="searchMemberForm"
    (ngSubmit)="onSearchMember()"
  >
    <div class="flex align-items-center gap-3">
      <p-inputGroup>
        <input
          type="text"
          pInputText
          placeholder="Keyword"
          class="mr-3 w-20rem p-inputtext p-component p-element"
          name="keyword"
          formControlName="searchMemberKeyword"
        />
        <button
          type="submit"
          pButton
          icon="pi pi-search"
          class="p-button-warning"
        ></button>
      </p-inputGroup>
    </div>
  </form>
</div>

<div class="grid p-fluid mt-5">
  <div class="col-6">
    <div class="shadow-2 p-3 mb-5 lg:mb-0 mr-0 surface-card">
      <img
        class="mb-3 w-full"
        alt="Card"
        src="https://blocks.primeng.org/assets/images/blocks/avatars/square/avatar-f-1.jpg"
      />

      @if (isLoading) {
      <div class="card flex justify-content-center">
        <p-progressSpinner ariaLabel="loading" styleClass="w-3rem h-3rem" />
      </div>
      } @else {
      <div class="flex flex-column justify-content-between align-items-center">
        <div class="text-center mb-3">
          <div class="text-xl text-900 font-medium mb-2">
            {{
              selectedMember()?.accountFirstName
                ? selectedMember()?.accountFirstName
                : "Member Name"
            }}
          </div>
          <div class="text-blue-600">
            {{
              selectedMember()?.membershipNumber
                ? selectedMember()?.membershipNumber
                : "Membership Number"
            }}
          </div>
        </div>
        <div class="flex flex-nowrap">
          <button
            pbutton=""
            pripple=""
            icon="pi pi-twitter"
            class="p-element p-ripple p-button-rounded p-button-text p-button-outlined p-button-plain mr-2 p-button p-component p-button-icon-only"
          >
            <span class="p-button-icon pi pi-twitter" aria-hidden="true"></span
            ><span class="p-ink"></span></button
          ><button
            pbutton=""
            pripple=""
            icon="pi pi-github"
            class="p-element p-ripple p-button-rounded p-button-text p-button-outlined p-button-plain p-button p-component p-button-icon-only"
          >
            <span class="p-button-icon pi pi-github" aria-hidden="true"></span
            ><span class="p-ink"></span>
          </button>
        </div>
      </div>
      }
    </div>
  </div>
  <div class="col-6">
    <div class="field calendar-container">
      <label for="date">Borrow Date</label>
      <p-calendar
        pTooltip="Choose borrow date (now or future)"
        tooltipPosition="top"
        [iconDisplay]="'input'"
        [showIcon]="true"
        inputId="icondisplay"
        [(ngModel)]="selectedBorrowingDate"
        (ngModelChange)="onBorrowingDateChange($event)"
        dateFormat="DD, dd/mm/yy"
      />
    </div>
    <div class="field calendar-container">
      <label for="date">Due Date</label>
      <p-calendar
        pTooltip="Choose due date (Borrow period maximum is 3)"
        tooltipPosition="top"
        [disabled]="hasBorrowDate"
        [iconDisplay]="'input'"
        [showIcon]="true"
        inputId="icondisplay"
        [(ngModel)]="selectedDueDate"
        (ngModelChange)="onDueDateChange($event)"
        dateFormat="DD, dd/mm/yy"
      />
    </div>
  </div>
</div>
